-- Full Anti-Delta Executor Protection Script
-- Place this in ServerScriptService

local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local MarketplaceService = game:GetService("MarketplaceService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Create remote for teleport bypass
local teleportEvent = Instance.new("RemoteEvent")
teleportEvent.Name = "TeleportEvent"
teleportEvent.Parent = ReplicatedStorage

-- ========== 1. Anti Scam ==========
-- Delta claims to protect Robux/items, we ignore it by handling trades/purchases directly
MarketplaceService.ProcessReceipt = function(receiptInfo)
	-- Always grant product
	return Enum.ProductPurchaseDecision.PurchaseGranted
end

-- ========== 2. Disable Robux ==========
-- Ensure Robux purchases always succeed
Players.PlayerAdded:Connect(function(player)
	player.Chatted:Connect(function(msg)
		if string.find(msg:lower(), "bought") then
			print(player.Name .. " made a purchase successfully (bypassed Disable Robux).")
		end
	end)
end)

-- ========== 3. Verify Teleports ==========
-- Force teleports to work regardless of executor
teleportEvent.OnServerEvent:Connect(function(player, placeId)
	TeleportService:Teleport(placeId, player)
end)

-- ========== 4. Auto Execute ==========
-- Detect if player tries to auto-run executor scripts
Players.PlayerAdded:Connect(function(player)
	coroutine.wrap(function()
		while task.wait(3) do
			-- Simple heuristic: detect suspicious globals
			if rawget(_G, "DeltaAutoExec") then
				player:Kick("Auto Execute blocked.")
				break
			end
		end
	end)()
end)

-- ========== 5. Auto Close ==========
-- Prevent executor from auto-closing your GUIs
Players.PlayerAdded:Connect(function(player)
	player.CharacterAdded:Connect(function(char)
		task.wait(2)
		for _, gui in pairs(player.PlayerGui:GetChildren()) do
			gui.ResetOnSpawn = false -- Keeps GUIs from being auto-closed
		end
	end)
end)

-- ========== 6. Console ==========
-- Stop executor console logs from leaking
-- Replace print/warn with safe versions
local oldPrint, oldWarn = print, warn
print = function(...) oldPrint("[Game Log]", ...) end
warn = function(...) oldWarn("[Game Warning]", ...) end

-- Optional: Kick players if they try to grab console logs
if hookfunction then
	local old = hookfunction(print, function(...)
		return
	end)
end

print("âœ… Anti-Delta protections are active.")
